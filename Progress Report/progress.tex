\documentclass[12pt,a4paper,twoside]{article}

\input{preamble}

% paste the summarised output of texcount here after each alteration
% File: specification.tex
% Words in text: 2571
% Words in headers: 33
% Words in float captions: 11
% Number of headers: 15

\begin{document}

% Title page
\input{titlepage_progress}
\newpage
\pagestyle{empty}
\cleardoublepage                             % so it actually prints out nicely doubleside!
\newpage

% Main document
\section{Overview}

Development of the Race the Wild app has so far been successful. 
The first prototype was delivered on-time, with a slightly different feature set to what was planned, and a demonstration video was made available to showcase the functionality. 
As of the time of writing, the second prototype has been completed, and will be tested before being demonstrated live at the client meeting on Friday Feb 15th. 
This prototype is almost feature-complete, as described in the requirements. 
Further refinements in the third iteration will yield a full product, leaving the final week for content creation and extensive testing and debugging.

\section{Progress}

\subsection{Features}

The second prototype broadly contains all of the features described in the requirements document. 
The menus, node map, scroll map, animal collection, position tracking and check-in systems are all accessible and functional. 
Some of these features are in need of refinement: in particular, the GPS tracking is complex and will require further attention before being considered acceptable to ship. 
However, everything has been implemented in some reasonable form.

Taking into account client feedback, some extra features are planned to be added.
\begin{itemize}
\item A simple challenge-based system. 
The player will be issued a challenge to move a certain distance in a certain time. 
If accepted and completed, the player will unlock animals which cannot be accessed by the standard ``check-in'' system.
\item An introduction and how-to-play system. 
The player will need to be instructed in how to use the app, and shown that their behaviour can earn them prizes. 
A short introduction will be provided when the app is first launched, and made accessible via the menu.
\end{itemize}

\subsection{Testing}

It was determined early in the project that the nature of the code was such that typical unit-testing would not be significantly helpful, due to it consisting of a lot of graphical code, as well as standard Android library systems, that needs to be manually tested by running the app in order to have confidence in its functional reliability. 
Thus, rather than taking the approach suggested in the initial Group Project briefing whereby modules would be unit-tested independently, the project was made to be runnable almost immediately. 
By adding code to a running program, the team could quickly and effectively get feedback as to whether any new code functioned correctly.

However, the team recognises the imperative need for structured and extensive testing of the product. 
To this end, an exhaustive manual test suite is to be written. 
Again, the team determined that the reliability of the product couldn't be measured confidently by automated methods. 
A combination of a rigorous formal test suite and ``typical'' use of the app from the perspective of end users will provide the soundest final product.

\section{Code Documentation}

The following sections, written individually by each group member, give documentation of the code written to date.

\subsection{Ciaran Deasy}

\subsubsection{Engine}

The Engine is the centre of the app. 
It stores references to the data structures like the Animal dictionary and Node list, and provides the interface by which components communicate. 
Directing such communication through the Engine simplifies other modules by keeping them independent. The Engine is also responsible for initial app setup.
The Engine is a singleton, and one is created at start-up.

\verb|static void initialise()|\\
Called at start-up. This will:
\begin{itemize}
\item Create the singleton Engine object.
\item Load the node data into a \verb|List| of \verb|Node|s.
\item Load the animal data into a \verb|Map| of \verb|(Integer, Animal)| pairs.
\item Load saved data, or create new data, as a \verb|PlayerStats| object.
\item Update all \verb|Animal|s and \verb|Node|s to be consistent with the data in the loaded/created \verb|PlayerStats| object.
\end{itemize}
Subsequent calls to this method will be ignored.

\verb|static void get()|\\
Returns the singleton \verb|Engine| object.

\verb|PlayerStats getStats()|\\
Returns the \verb|PlayerStats| object holding the player's current saved data.

\verb|List<Node> getNodeList()|\\
Returns the \verb|List| of all the \verb|Node| objects, containing data on each node in the game.

\verb|SatNavUpdate fetchSatNavData()|\\
Queries the GPS tracking service to get the latest movement information, which includes distance travelled and the movement point value. This is combined with the accumulated results of all previous queries since the player's last check-in, and the totals returned within a \verb|SatNavUpdate| object.

\verb|List<Animal> getAllAnimals()|\\
Returns a list of all the \verb|Animal| object, containing data on each animal in the game. The \verb|List| is sorted by animal ID.

\verb|Animal getAnimal(int ID)|\\
Returns the \verb|Animal| object containing data on the animal with the given \verb|ID|.

\verb|void changeColour(int animalID, Colour colour, Context c)|\\
Sets the \verb|Animal| with the given ID to have the given \verb|Colour| (\verb|Black| for found, \verb|Grey| for unfound, or \verb|White| for undiscovered). The animal will appear in the world, if not already present. Also updates the player's save data and saves it, which requires a \verb|Context| to access the filesystem.

\verb|void checkIn(Animal animal, Context c)|\\
Updates the given \verb|Animal| to be coloured \verb|Grey| (to indicate that it has been released), credits the player with movement points and distance accumulated since the last check-in, and saves player data, which requires a \verb|Context| to access the filesystem.

\verb|Node lookupNode(String name) throws NodeNotFoundException|\\
Returns the \verb|Node| object with the given name, which contains all data related to that node. Throws an exception if the name doesn't match any \verb|Node| in the game.

\subsubsection{Animal}

An object of the \verb|Animal| class encapsulates information about a particular animal in the game. A dictionary of these objects is created at program start and stored in the \verb|Engine|. 

\verb|int getID()|\\
Returns a unique ID for identifying the animal.

\verb|String getGraphicPath()|\\
Returns a filename for the animal's photo image in the filesystem, as displayed on the animal information screen.

\verb|String getSpritePath()|\\
Returns a filename for the animal's sprite image in the filesystem, as displayed in the game world.

\verb|String getName()|\\
Returns the name of the animal.

\verb|String getFacts()|\\
Returns the text description of the animal, as displayed on the animal information screen.

\verb|Node[] getNodes()|\\
Returns an array of the \verb|Node| objects representing the nodes in which the animal appears in the game world.

\verb|Colour getColour()|\\
Returns the colour of the animal.
\begin{itemize}
\item \verb|White| is the default, and corresponds to animals which haven't been discovered.
\item \verb|Grey| corresponds to animals that have been released into the wild, but not yet found by the player.
\item \verb|Black| corresponds to animals that the player has found.
\end{itemize}

\verb|String getHint()|\\
Returns the hint for this animal. This is displayed on the animal information screen when the animal has been released into the wild, but not yet found by the player, to provide a hint on the habitats in which the animal can be found.

\verb|int getDistancePerDay()|\\
Returns the distance in metres that the animal travels per day. Used to compare with the player's own movement on the check-in screen.

\verb|int compareTo(Animal other)|\\
A standard comparing method which compares animals by ID.

\verb|void setColour(Colour colour)|\\
Sets the animal to have a given colour (see \verb|getColour()|). Does NOT update other areas of the app, this must be handled by the caller.

\verb|Animal(int id, String name, String description, String hint, String graphic, |\\
.$\quad$\verb|String sprite, int distancePerDay, List<String> nodeNames)|
Creates an animal with all the fields as provided above. The \verb|Colour| defaults to \verb|White|.

\subsubsection{Node}

\subsubsection{XmlParser}

\subsection{Sam Ainsworth \& Christopher Wheelhouse}

\subsection{Tom McCarthy}

\subsection{Matthew Ireland}

\subsection{Andrew Sheriff}



\end{document}
